<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
	<title>条形码二维码扫描</title>
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css">
</head>
<body>
	<div class="row" id="picList">
	</div>
	<script type="text/javascript" src="cordova.js"></script>
	<script>
        document.addEventListener('deviceready',function(){
        	 cordova.plugins.barcodeScanner.scan(function (result) {
		          /*alert("We got a barcode\n" +
		                "Result: " + result.text + "\n" +
		                "Format: " + result.format + "\n" +
		                "Cancelled: " + result.cancelled);*/

		          if(result.format == 'QR_CODE'){
		          	location.href = result.text;
		          }
		      },
		      function (error) {
		          alert("Scanning failed: " + error);
		      },
		      {
		          "preferFrontCamera" : true, // iOS and Android
		          "showFlipCameraButton" : true, // iOS and Android
		          "prompt" : "Place a barcode inside the scan area", // supported on Android only
		          "formats" : "QR_CODE,PDF_417", // default: all but PDF_417 and RSS_EXPANDED
		          "orientation" : "landscape" // Android only (portrait|landscape), default unset so it rotates with the device
		      });
        });
    </script>
</body>
</html>